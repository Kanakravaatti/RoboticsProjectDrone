#VRML_SIM R2023b utf8

EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/backgrounds/protos/TexturedBackground.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/floors/protos/Floor.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/SandyGround.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/road/protos/Road.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/Pavement.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/buildings/protos/Windmill.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/buildings/protos/SmallManor.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/factory/manhole/protos/SquareManhole.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/factory/containers/protos/CardboardBox.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/vehicles/protos/tesla/TeslaModel3Simple.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/trees/protos/Pine.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/trees/protos/Forest.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/robots/dji/mavic/protos/Mavic2Pro.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/geometries/protos/TexturedParallelepiped.proto"

WorldInfo {
  info [
    "This demonstration shows a DJI Mavic 2 PRO flying over a rural area."
    "After the drone has taken off, you can control it with the keyboard of your computer."
  ]
  title "DJI Mavic 2 PRO demo"
  basicTimeStep 8
  defaultDamping Damping {
    linear 0.5
    angular 0.5
  }
  contactProperties [
    ContactProperties {
      material1 "solid"
      material2 "palikka"
      coulombFriction [
        -1
      ]
      maxContactJoints 20
    }
  ]
}
Viewpoint {
  orientation 0.12942337004079776 0.09097403251200209 -0.9874073711978191 2.2370478918681878
  position 4.559702132637344 6.16138394370458 3.005523866916924
  near 0.2
  follow "Mavic 2 PRO"
  followSmoothness 0.2
}
TexturedBackground {
  luminosity 3
}
TexturedBackgroundLight {
}
Floor {
  size 400 400
  tileSize 6 6
  appearance SandyGround {
    colorOverride 0 0 0
  }
}
Solid {
  translation -0.9298433772447465 0.38 0.04990189999999999
  rotation 0.008187379159869003 0.052048282156518536 0.9986110069226397 4.4093955224496374e-17
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation -1.52 0.38 0.04990189999999999
  rotation -0.310751182792688 -0.5652362769618353 -0.7641607511507437 8.160818570095518e-18
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(1)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation -1.26 0.1 0.04990189999999999
  rotation -0.04201800584550978 0.01932625088642473 0.9989299190691217 1.0472088512579255e-16
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(2)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation 0.2 2.18 0.0499019
  rotation 0.6564200854875882 0.11165600472565995 -0.7460868635602499 2.782266148464534e-17
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(3)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation -2 0.65 0.04990189999999999
  rotation 0.0746786756522023 -0.16827854764909475 0.9829066211008778 3.048041437201517e-17
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(4)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation -1.26 0.66 0.04990189999999999
  rotation -0.3348322187304224 0.0523408786134472 0.9408229470660435 7.028295518424737e-18
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(5)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation -2.12 0.25 0.04990189999999999
  rotation 0.013282690181451038 0.08375172798816934 0.996398122338927 4.7909586249142396e-17
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(6)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation 0.74 2.03 0.0499019
  rotation -0.23449705416959699 -0.0188485903660715 0.9719340832726224 6.616499350021051e-17
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(7)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation -2.68 1.51 0.049901899999999985
  rotation -0.008279452208884878 -0.23704041493500932 0.9714645090576183 6.037147544154294e-17
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(8)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation 0.53 1.42 0.0499019
  rotation 0.2208701857224745 0.11933624634953113 0.9679748040967409 2.2652982244604644e-17
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(9)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation -3.22 1.08 0.049901899999999985
  rotation -0.008279452208884878 -0.23704041493500932 0.9714645090576183 6.037147544154294e-17
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(10)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation 0.16 1.31 0.0499019
  rotation -0.018844610863921127 0.0046216698371206195 0.9998117426842436 6.706935814117434e-17
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(11)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation -0.13 2.49 0.0499019
  rotation 0.42903950717429795 -0.1548086753774163 -0.8899209938593005 5.898927821629539e-18
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(12)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation -0.11 1.9 0.0499019
  rotation 0.04463621534968109 0.1239875768218114 0.9912793194015057 4.87412213668492e-17
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(13)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Solid {
  translation -5.6 0.5 0.06499901899999998
  rotation -5.95557e-18 -1.29577e-17 1 -0.523595307179586
  children [
    Shape {
      geometry Box {
        size 0.05 0.05 0.13
      }
    }
  ]
  name "solid(14)"
  contactMaterial "palikka"
  boundingObject Box {
    size 0.05 0.05 0.13
  }
  physics Physics {
    density -1
    mass 0.01
  }
}
Solid {
  translation -2.75 2.47 0.04990189999999999
  rotation 0.18769202417428857 0.03182828428714368 0.9817121087063635 7.748917251154273e-17
  children [
    Shape {
      geometry Box {
        size 0.1 0.1 0.1
      }
    }
  ]
  name "solid(15)"
  boundingObject Box {
    size 0.1 0.1 0.1
  }
  physics Physics {
  }
}
Road {
  translation -43.8 9.2 0.01
  rotation 0 0 1 -0.3926996938995747
  width 3
  numberOfLanes 1
  rightBorder FALSE
  leftBorder FALSE
  wayPoints [
    0 0 0
    100 0 0
    200 200 0
  ]
  splineSubdivision 8
  appearance Pavement {
    type "black stone"
  }
}
Windmill {
  translation -43.8656 -19.8433 0
  rotation -7.19228e-09 2.6842e-08 1 0.523601
}
Windmill {
  translation -44.258 -27.3356 0
  rotation -7.19228e-09 2.6842e-08 1 0.523601
  name "windmill(1)"
}
Windmill {
  translation -46.2448 30.573 0
  rotation -7.19228e-09 2.6842e-08 1 0.523601
  name "windmill(2)"
}
Windmill {
  translation -38.75 23.4 0
  name "windmill(3)"
}
SmallManor {
  translation -50.35 11.25 0
  rotation 0 0 -1 0.392394
}
SquareManhole {
  translation 0 0 -0.03
}
CardboardBox {
  translation -0.730157 -1.22891 0.3
  rotation 0 0 1 -1.8325953071795862
}
TeslaModel3Simple {
  translation -41.5139 4.34169 0.31
  rotation 0 0 1 -0.2618053071795865
}
Pine {
  translation -14.0083 -14.4828 0
  rotation 0 0 1 2.61799
}
Pine {
  translation -19.6195 -24.3783 0
  rotation 0 0 1 2.87979
  name "pine tree(1)"
}
Pine {
  translation -22.0129 6.20205 0
  name "pine tree(3)"
}
Pine {
  translation -10.6926 -25.1339 0
  name "pine tree(4)"
}
Pine {
  translation -14.3441 14.5621 0
  name "pine tree(5)"
}
Pine {
  translation -26.6328 -7.1707 0
  name "pine tree(6)"
}
Pine {
  translation -9.37029 14.0209 0
  rotation 0 0 1 -2.6179953071795863
  name "pine tree(2)"
}
Forest {
  translation 0 0 -0.01
  shape [
    200 200
    200 0
    50 0
    50 50
    -50 50
    -50 -50
    50 -50
    50 0
    200 0
    200 -200
    -200 -200
    -200 200
  ]
  density 0.01
  type "cherry tree"
  randomSeed 1
  maxHeight 12
  minHeight 6
  maxRadius 6
  minRadius 3
}
Mavic2Pro {
  translation -0.07995823541704747 -0.032495373022810886 0.16029201729914228
  rotation 2.9908254763698834e-05 -3.5622244765090814e-06 0.9999999995464034 1.935437346744259
  bodySlot [
    Lidar {
      translation -0.18 0 -0.05
      rotation 0.5773489358556708 0.5773509358554485 -0.5773509358554485 2.0944
      children [
        Shape {
          geometry Box {
            size 0.01 0.01 0.01
          }
        }
      ]
      name "lidar(1)"
      horizontalResolution 20
      fieldOfView 1.2
      verticalFieldOfView 1.2
      numberOfLayers 10
      maxRange 2
    }
    Lidar {
      translation -0.17 0 -0.05
      rotation 0 1 0 1.309
      children [
        Shape {
          geometry Box {
            size 0.01 0.05 0.1
          }
        }
      ]
      boundingObject Box {
        size 0.01 0.01 0.01
      }
      horizontalResolution 20
      fieldOfView 1.2
      verticalFieldOfView 0.4
      numberOfLayers 7
      maxRange 2
    }
    DistanceSensor {
      translation -0.06 0 -0.105
      rotation 0 1 0 1.5708
      children [
        Shape {
          geometry Box {
            size 0.01 0.01 0.01
          }
        }
      ]
      name "distance"
      boundingObject Box {
        size 0.01 0.01 0.01
      }
      lookupTable [
        0 0 0
        0.9 1000 0
      ]
    }
    GPS {
      translation -0.1 0 0
      name "gps(2)"
    }
    GPS {
      translation 0.07 0 0
      name "gps(1)"
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -0.1929919545793848
        axis 0 -1 0
        anchor -0.0725 0 -0.107
      }
      device [
        Brake {
        }
        PositionSensor {
          name "PS2"
        }
        RotationalMotor {
          name "RM2"
          acceleration 1
        }
      ]
      endPoint Solid {
        translation -0.07250072549247814 -1.4143095355967282e-07 -0.10699999410970802
        rotation -0.09590722746514602 0.09589669518848686 -0.99076012615157 1.5800797276702345
        children [
          Solid {
            translation 0 -0.027 -0.0193
            rotation -1.14927e-06 1.40791e-07 -1 -3.1415853071795863
            children [
              DEF claw Shape {
                appearance PBRAppearance {
                  baseColor 0 1 0
                  roughness 1
                  metalness 0
                }
                geometry TexturedParallelepiped {
                  size 0.005 0.01 0.04
                  angles 0 1 0
                }
              }
            ]
            name "solid(1)"
            contactMaterial "solid"
            boundingObject USE claw
            physics Physics {
            }
          }
          Solid {
            translation 0 -0.0225 0
            rotation -1 6.86169e-07 2.69628e-07 1.57079
            children [
              DEF arm Shape {
                appearance PBRAppearance {
                  baseColor 0 1 0
                  roughness 1
                  metalness 0
                }
                geometry Box {
                  size 0.005 0.005 0.04
                }
              }
            ]
            contactMaterial "solid"
            boundingObject USE arm
            physics Physics {
            }
          }
          DEF axle Shape {
            appearance PBRAppearance {
              baseColor 1 0 1
              roughness 1
              metalness 0
            }
            geometry Box {
              size 0.005 0.005 0.005
            }
          }
        ]
        name "solid(2)"
        contactMaterial "solid"
        boundingObject USE axle
        physics Physics {
        }
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -0.1929918193458074
        axis -1 0 0
        anchor -0.06 0.0125 -0.107
      }
      device [
        Brake {
        }
        PositionSensor {
          name "PS3"
        }
        RotationalMotor {
          name "RM3"
          acceleration 1
        }
      ]
      endPoint Solid {
        translation -0.05999962910869204 0.012501404921786051 -0.10700080560348954
        rotation 7.877826746083822e-06 -0.09634885299686516 0.9953476269445407 3.141588763560186
        children [
          Solid {
            translation 0 -0.027 -0.0193
            rotation -1.14927e-06 1.40791e-07 -1 -3.1415853071795863
            children [
              DEF claw Shape {
                appearance PBRAppearance {
                  baseColor 0 1 0
                  roughness 1
                  metalness 0
                }
                geometry TexturedParallelepiped {
                  size 0.005 0.01 0.04
                  angles 0 1 0
                }
              }
            ]
            name "solid(1)"
            contactMaterial "solid"
            boundingObject USE claw
            physics Physics {
            }
          }
          Solid {
            translation 0 -0.0225 0
            rotation -1 6.86169e-07 2.69628e-07 1.57079
            children [
              DEF arm Shape {
                appearance PBRAppearance {
                  baseColor 0 1 0
                  roughness 1
                  metalness 0
                }
                geometry Box {
                  size 0.005 0.005 0.04
                }
              }
            ]
            contactMaterial "solid"
            boundingObject USE arm
            physics Physics {
            }
          }
          DEF axle Shape {
            appearance PBRAppearance {
              baseColor 1 0 1
              roughness 1
              metalness 0
            }
            geometry Box {
              size 0.005 0.005 0.005
            }
          }
        ]
        name "solid(3)"
        contactMaterial "solid"
        boundingObject USE axle
        physics Physics {
          density 1
        }
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -0.19299180465648885
        anchor -0.06 -0.0125 -0.107
      }
      device [
        Brake {
        }
        PositionSensor {
          name "PS1"
        }
        RotationalMotor {
          name "RM1"
          acceleration 1
        }
      ]
      endPoint Solid {
        translation -0.059999581563558495 -0.01250087912634118 -0.10700025909141567
        rotation -0.9999999963437283 -8.515703033714789e-05 -7.798947611052712e-06 0.19298652570478614
        children [
          Solid {
            translation 0 -0.027 -0.0193
            rotation -1.14927e-06 1.40791e-07 -1 -3.1415853071795863
            children [
              DEF claw Shape {
                appearance PBRAppearance {
                  baseColor 0 1 0
                  roughness 1
                  metalness 0
                }
                geometry TexturedParallelepiped {
                  size 0.005 0.01 0.04
                  angles 0 1 0
                }
              }
            ]
            name "solid(1)"
            contactMaterial "solid"
            boundingObject USE claw
            physics Physics {
            }
          }
          Solid {
            translation 0 -0.0225 0
            rotation -1 6.86169e-07 2.69628e-07 1.57079
            children [
              DEF arm Shape {
                appearance PBRAppearance {
                  baseColor 0 1 0
                  roughness 1
                  metalness 0
                }
                geometry Box {
                  size 0.005 0.005 0.04
                }
              }
            ]
            contactMaterial "solid"
            boundingObject USE arm
            physics Physics {
            }
          }
          DEF axle Shape {
            appearance PBRAppearance {
              baseColor 1 0 1
              roughness 1
              metalness 0
            }
            geometry Box {
              size 0.005 0.005 0.005
            }
          }
        ]
        name "solid(1)"
        contactMaterial "solid"
        boundingObject USE axle
        physics Physics {
        }
      }
    }
    Pose {
      translation -0.06 0 -0.107
      rotation 0 1 0 -5.307179586466759e-06
      children [
        DEF body Shape {
          appearance PBRAppearance {
            baseColor 0 1 1
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.02 0.02 0.005
          }
        }
      ]
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -0.1929919191418299
        axis 0 1 0
        anchor -0.0475 0 -0.107
      }
      device [
        Brake {
        }
        PositionSensor {
          name "PS"
        }
        RotationalMotor {
          name "RM"
          acceleration 1
        }
      ]
      endPoint Solid {
        translation -0.047498388412624756 4.713994048444192e-07 -0.10700074113110543
        rotation 0.0959116080228467 -0.09589301791666567 -0.9907600580167257 1.5800790121881283
        children [
          Solid {
            translation 0 0.027 -0.0193
            rotation 0.04429487720597257 0.3615768139335216 -0.9312895207608595 6.35691e-06
            children [
              DEF claw Shape {
                appearance PBRAppearance {
                  baseColor 0 1 0
                  roughness 1
                  metalness 0
                }
                geometry TexturedParallelepiped {
                  size 0.005 0.01 0.04
                  angles 0 1 0
                }
              }
            ]
            name "solid(1)"
            contactMaterial "solid"
            boundingObject USE claw
            physics Physics {
            }
          }
          Solid {
            translation 0 0.0225 0
            rotation 1 0 0 1.01503e-06
            children [
              DEF arm Shape {
                appearance PBRAppearance {
                  baseColor 0 1 0
                  roughness 1
                  metalness 0
                }
                geometry Box {
                  size 0.005 0.04 0.005
                }
              }
            ]
            contactMaterial "solid"
            boundingObject USE arm
            physics Physics {
            }
          }
          DEF axle Shape {
            appearance PBRAppearance {
              baseColor 1 0 1
              roughness 1
              metalness 0
            }
            geometry Box {
              size 0.005 0.005 0.005
            }
          }
        ]
        contactMaterial "solid"
        boundingObject USE axle
        physics Physics {
        }
      }
    }
    Pose {
      translation -0.06 0 -0.08
      children [
        DEF body Shape {
          appearance PBRAppearance {
            baseColor 0 1 1
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.005 0.005 0.05
          }
        }
      ]
    }
  ]
  cameraSlot [
    Camera {
      width 400
      height 240
      near 0.2
    }
  ]
}
